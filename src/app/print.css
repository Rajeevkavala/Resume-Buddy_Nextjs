/**
 * Print-specific CSS optimizations for Resume Buddy
 * Ensures optimal printing and PDF export appearance
 */

@media print {
  /* Reset margins and remove unnecessary elements */
  * {
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Page setup */
  @page {
    size: A4;
    margin: 0.5in;
    
    /* Remove default browser headers/footers */
    @top-center { content: none; }
    @bottom-center { content: none; }
  }

  /* Hide non-essential elements */
  nav,
  .navbar,
  .sidebar,
  .no-print,
  .print-hidden,
  button:not(.print-visible),
  .card-header,
  .tab-list,
  .toolbar,
  .controls,
  .modal,
  .tooltip,
  .dropdown-menu {
    display: none !important;
  }

  /* Resume container optimization */
  .resume-container,
  .template-container,
  #resume-preview-container {
    width: 100% !important;
    max-width: none !important;
    margin: 0 !important;
    padding: 0 !important;
    box-shadow: none !important;
    border: none !important;
    background: white !important;
    page-break-inside: avoid;
  }

  /* Typography optimization */
  body {
    font-size: 12pt !important;
    line-height: 1.4 !important;
    color: #000 !important;
    background: white !important;
  }

  /* Headings */
  h1, .resume-name {
    font-size: 18pt !important;
    font-weight: bold !important;
    margin-bottom: 8pt !important;
    page-break-after: avoid;
  }

  h2, .section-title {
    font-size: 14pt !important;
    font-weight: bold !important;
    margin-top: 12pt !important;
    margin-bottom: 6pt !important;
    page-break-after: avoid;
    border-bottom: 1pt solid #333 !important;
    padding-bottom: 2pt !important;
  }

  h3, .subsection-title {
    font-size: 12pt !important;
    font-weight: bold !important;
    margin-top: 8pt !important;
    margin-bottom: 4pt !important;
    page-break-after: avoid;
  }

  /* Lists and content */
  ul, ol {
    margin: 4pt 0 !important;
    padding-left: 16pt !important;
  }

  li {
    margin: 2pt 0 !important;
    page-break-inside: avoid;
  }

  p {
    margin: 4pt 0 !important;
    text-align: justify !important;
    orphans: 2;
    widows: 2;
  }

  /* Links */
  a {
    color: #000 !important;
    text-decoration: underline !important;
  }

  a[href]:after {
    content: " (" attr(href) ")" !important;
    font-size: 10pt !important;
    color: #666 !important;
  }

  /* Email and phone links - don't show URL */
  a[href^="mailto:"]:after,
  a[href^="tel:"]:after {
    content: "" !important;
  }

  /* Contact information */
  .contact-info {
    font-size: 11pt !important;
    margin-bottom: 12pt !important;
    text-align: center !important;
  }

  .contact-item {
    display: inline !important;
    margin: 0 8pt !important;
  }

  /* Work experience optimization */
  .experience-item,
  .job-item {
    margin-bottom: 12pt !important;
    page-break-inside: avoid;
  }

  .job-title {
    font-weight: bold !important;
    font-size: 12pt !important;
  }

  .company-name {
    font-weight: normal !important;
    font-style: italic !important;
  }

  .job-dates {
    float: right !important;
    font-weight: normal !important;
    font-size: 11pt !important;
  }

  .job-description {
    margin-top: 4pt !important;
  }

  /* Skills section */
  .skills-grid {
    display: block !important;
  }

  .skill-category {
    margin-bottom: 8pt !important;
    page-break-inside: avoid;
  }

  .skill-list {
    display: inline !important;
  }

  .skill-item {
    display: inline !important;
    margin-right: 8pt !important;
  }

  .skill-item:after {
    content: "," !important;
  }

  .skill-item:last-child:after {
    content: "" !important;
  }

  /* Education section */
  .education-item {
    margin-bottom: 8pt !important;
    page-break-inside: avoid;
  }

  .degree {
    font-weight: bold !important;
  }

  .institution {
    font-style: italic !important;
  }

  .graduation-date {
    float: right !important;
    font-size: 11pt !important;
  }

  /* Projects section */
  .project-item {
    margin-bottom: 10pt !important;
    page-break-inside: avoid;
  }

  .project-title {
    font-weight: bold !important;
    display: inline !important;
  }

  .project-technologies {
    font-style: italic !important;
    font-size: 11pt !important;
    color: #666 !important;
  }

  /* Certifications */
  .certification-item {
    margin-bottom: 6pt !important;
    page-break-inside: avoid;
  }

  .certification-name {
    font-weight: bold !important;
  }

  .certification-issuer {
    font-style: italic !important;
  }

  .certification-date {
    float: right !important;
    font-size: 11pt !important;
  }

  /* Layout optimizations */
  .two-column {
    column-count: 2 !important;
    column-gap: 20pt !important;
    column-rule: 1pt solid #ddd !important;
  }

  .column-break {
    break-after: column !important;
  }

  /* Page breaks */
  .page-break-before {
    page-break-before: always !important;
  }

  .page-break-after {
    page-break-after: always !important;
  }

  .page-break-inside-avoid {
    page-break-inside: avoid !important;
  }

  /* Colors and borders */
  .primary-color {
    color: #2563eb !important;
  }

  .secondary-color {
    color: #64748b !important;
  }

  .accent-border {
    border-left: 3pt solid #2563eb !important;
    padding-left: 8pt !important;
  }

  /* Remove shadows and unnecessary visual effects */
  .shadow,
  .shadow-sm,
  .shadow-md,
  .shadow-lg {
    box-shadow: none !important;
  }

  .rounded,
  .rounded-md,
  .rounded-lg {
    border-radius: 0 !important;
  }

  /* Ensure proper spacing */
  .section {
    margin-bottom: 16pt !important;
  }

  .section:last-child {
    margin-bottom: 0 !important;
  }

  /* Print-specific utilities */
  .print-only {
    display: block !important;
  }

  .print-inline {
    display: inline !important;
  }

  .print-text-sm {
    font-size: 10pt !important;
  }

  .print-text-xs {
    font-size: 9pt !important;
  }

  .print-font-bold {
    font-weight: bold !important;
  }

  .print-font-normal {
    font-weight: normal !important;
  }

  .print-italic {
    font-style: italic !important;
  }

  /* Ensure good contrast */
  .text-muted,
  .text-gray-500,
  .text-gray-600 {
    color: #333 !important;
  }

  /* Fix potential layout issues */
  .flex {
    display: block !important;
  }

  .grid {
    display: block !important;
  }

  .absolute,
  .fixed {
    position: static !important;
  }

  /* Optimize for single page when possible */
  .single-page {
    max-height: 10in !important;
    overflow: hidden !important;
  }

  /* QR codes and images */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  .qr-code {
    width: 1in !important;
    height: 1in !important;
  }

  /* Professional photo */
  .profile-photo {
    width: 1.2in !important;
    height: 1.5in !important;
    object-fit: cover !important;
  }
}

/* Screen-only styles for print preview */
@media screen {
  .print-preview-mode {
    background: #f5f5f5;
    padding: 20px;
  }

  .print-preview-mode .resume-container {
    background: white;
    box-shadow: 0 0 20px rgba(0,0,0,0.1);
    margin: 0 auto;
    width: 8.5in;
    min-height: 11in;
    padding: 0.5in;
  }

  .print-preview-watermark {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-45deg);
    font-size: 48px;
    color: rgba(0,0,0,0.05);
    pointer-events: none;
    z-index: 1;
  }
}

/* Export-specific optimizations */
.export-mode {
  font-family: 'Times New Roman', serif !important;
}

.export-mode h1,
.export-mode h2,
.export-mode h3 {
  font-family: 'Arial', sans-serif !important;
}

/* ATS-friendly styles */
.ats-optimized {
  font-family: 'Arial', 'Helvetica', sans-serif !important;
  color: #000 !important;
  background: #fff !important;
}

.ats-optimized * {
  text-decoration: none !important;
  border: none !important;
  background-image: none !important;
}

.ats-optimized .section-title {
  font-size: 14pt !important;
  font-weight: bold !important;
  color: #000 !important;
  text-transform: uppercase !important;
  margin: 12pt 0 6pt 0 !important;
}